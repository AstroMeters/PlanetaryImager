cmake_minimum_required(VERSION 2.8.6)
enable_testing()
project(PlanetaryImager)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
set(CMAKE_INCLUDE_CURRENT_DIR ON)
set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTOUIC ON)
set(CMAKE_AUTORCC ON)
find_package(Qt5Widgets)
find_package(Qt5Multimedia)
include(FindPkgConfig)
pkg_check_modules(LIBUSB libusb-1.0 REQUIRED)
option(cflags_fpic "Use -fPIC for compilation " on)
if(cflags_fpic)
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")
endif(cflags_fpic)
  

add_subdirectory(QHYCCD_Linux)
include_directories(QHYCCD_Linux ${LIBUSB_INCLUDE_DIRS})
add_subdirectory(src)
add_subdirectory(tests)