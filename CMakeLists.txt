cmake_minimum_required(VERSION 2.8.6)
enable_testing()
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} GuLinux-Commons/cmake)
include_directories(GuLinux-Commons)
project(PlanetaryImager)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
set(CMAKE_INCLUDE_CURRENT_DIR ON)
set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTOUIC ON)
set(CMAKE_AUTORCC ON)
find_package(Qt5Widgets REQUIRED )
find_package(Qt5Multimedia REQUIRED)
find_package(Boost REQUIRED)

include(FindPkgConfig)
pkg_check_modules(LIBUSB libusb-1.0 REQUIRED)
option(cflags_fpic "Use -fPIC for compilation " on)
if(cflags_fpic)
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")
endif(cflags_fpic)

set(MAJOR_VERSION 0)
set(MINOR_VERSION 2)
set(PATCH_VERSION 1)

add_subdirectory(QHYCCD_Linux)
include_directories(QHYCCD_Linux ${LIBUSB_INCLUDE_DIRS} ${Boost_INCLUDE_DIRS})
add_subdirectory(src)
add_subdirectory(tests)
add_subdirectory(files)